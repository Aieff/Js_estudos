<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
  </head>
  <body>
    <button>Executar</button>

    <script>
      function testPromise() {
        console.log("sync started")

        const p1 = new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("p1 finished")
            resolve(1)
          }, 1000)
        })

        const p2 = new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("p2 finished")
            resolve(2)
          }, 2000)
        })

        const p3 = new Promise((resolve, reject) => {
          setTimeout(() => {
            console.log("p3 finished")
            resolve(3)
          }, 3000)
        })

        // Me retorna os valores das minhas promises (array)
        Promise.all([p1, p2, p3])
        .then((values) => {
          console.log("promise values", values)
        }).catch(() => {
          console.error("Promises error")
        })

        console.log("sync finished")

      }

      const buttonEl = document.querySelector("button")
      buttonEl.addEventListener("click", testPromise)
    </script>
  </body>
</html>
